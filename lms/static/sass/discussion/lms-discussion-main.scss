@import 'lms/static/sass/discussion/lms-discussion-main';
@import '../base/variables';
@import '../base/buttons';



body {
  background-color: $mckinsey-academy-bright-gray;
}

footer[role=contentinfo] {
  nav {
    ul {
      li {
        a {
          color: $mckinsey-academy-alt-blue;
        }
      }
    }
  }
}

body.new-theme {

  /* desktop only  */
  @media (min-width: 767px) {
    .forum-nav {
      width: 34% !important;
      margin-right: 3% !important;
    }

    .discussion-column {
      width: 63% !important;
      border: 1px solid #EEEEEE;
    }

    .thread-main-wrapper {
      border-bottom: 1.21px solid #EBEBEB;
    }
  }

  /* mobile */
  @media (max-width: 767px) {
    #course-discussion {
      .discussion-content {
        #discussion-container {
          .page-header {
            .page-header-main {
              top: 0px;
            }

            .page-header-secondary {
              width: 100%;
              position: relative;
              top: 25px;

              .form-actions {
                width: 20%;

                button {
                  @include primary-button ( !important);
                  color: transparent !important;
                  min-width: 100%;
                  width: 100%;
                  height: 40px !important;
                  padding: 0 !important;
                  position: relative;

                  &:before {
                    font-size: 1.875rem;
                    color: #FFF;
                    font-family: "Material Icons";
                    content: "\e145";
                    position: absolute;
                    left: 32%;
                  }
                }
              }

              .forum-search {
                width: 78% !important;
                margin-top: 3px;
                max-width: unset;
                margin-left: 2px;

                .search-button {
                  &:after {
                    top: 13px;
                    right: 0px;
                  }
                }

                .search-input {
                  width: 100% !important;
                  height: 40px !important;
                }

                &:after {
                  top: 13px;
                  right: 13px;
                }
              }
            }
          }

          .forum-nav-browse-menu {
            .forum-nav-browse-menu-item {
              .forum-nav-browse-title {
                font-weight: normal;
              }
            }
          }

          .forum-new-post-form,
          .edit-post-form {
            .post-field {
              .field-label-text {
                color: $mckinsey-gray-text;
                font-size: 0.75rem;
              }

              .post-topic {
                width: 100% !important;
                font-size: 0.75rem;
                color: $mckinsey-gray-text;
              }

              .js-post-title {
                padding: 0px 5px 0 40px !important;
                width: 100% !important;
                border-left: 0;
                border-right: 0;
                color: $mckinsey-gray-text;
              }

              .field-input-label {
                padding: 10px !important;
              }
            }

            .field-label-text {
              color: $mckinsey-gray-text;
              font-size: 0.75rem;
            }

            button.btn-brand {
              @include primary-button( !important);

              &:hover,
              &:active {
                @include primary-button-hover ( !important);
              }
            }

            .post-options {
              margin-bottom: 15px !important;

              label {
                margin-bottom: 10px;

                .input-checkbox {
                  width: 20px !important;
                }
              }

            }

            button.cancel,
            button.post-cancel {
              @include secondary-button ( !important);

              &:hover {
                @include secondary-button-hover ( !important);
              }
            }
          }

          .edit-post-form {
            min-width: auto !important;

            .thread-title {
              display: none;
            }

            .forum-edit-post-form-wrapper {
              .post-field {
                margin-bottom: 20px;

                .field-label {
                  .field-label-text {
                    display: none;
                  }

                  .field-help {
                    display: none;
                  }

                  .post-type-label {
                    .fa {
                      display: none;
                    }
                  }
                }
              }
            }

            .post-field {
              .field-label {
                position: relative;

                .field-label-text {
                  color: $mckinsey-gray-text;
                  font-size: 0.75rem;
                  position: absolute;
                  top: 15px;
                  margin: 0;
                  left: 2px;
                }

                .field-help {
                  display: none;
                }

                .edit-post-title {
                  padding: 0px 5px 0 40px !important;
                  width: 100% !important;
                  border-left: 0;
                  border-right: 0;
                  color: $mckinsey-gray-text;
                }
              }

            }
          }

          .discussion-post {
            .post-header-actions {
              top: 65px;

              .btn-link {
                border: 0;
              }

              .action-icon {
                background: none
              }
            }

            .post-header-content {


              .posted-details {
                font-size: 0.75rem;
                color: $mckinsey-gray-text;
                margin: 0;

                .username {
                  color: #000 !important;
                  font-weight: 600;
                  font-size: 0.75rem;
                }

                .user-label-staff {
                  width: auto;
                  font-weight: normal;

                  &:before {
                    color: #FFFFFF;
                    background: $mckinsey-gray-text;
                    font-size: 0.625rem;
                    padding: 0px 2px;
                    line-height: normal;
                    width: auto;
                  }
                }
              }

            }
          }

          .forum-content {
            .forum-response {
              .comments {
                .btn-brand {
                  @include primary-button( !important);

                  &:hover,
                  &:active {
                    @include primary-button-hover( !important);
                  }
                }
              }
            }

            .discussion-reply-new {
              .discussion-submit-post {
                @include primary-button( !important);

                &:hover,
                &:focus {
                  @include primary-button-hover( !important);
                }
              }
            }
          }
        }
      }
    }
  }

  /* desktop */
  #course-discussion {


    .discussion-content {
      .discussion-body {
        overflow: hidden;
      }

      .page-content {
        padding-top: 40px;
      }

      .post-label {
        color: $mckinsey-gray-text;

        &.post-label-pinned {
          color: $mckinsey-gray-text;
        }
      }

      select,
      input[type="text"],
      input[type="search"] {
        border-radius: 0px !important;
        -webkit-appearance: none !important;
        box-shadow: none;
        border: 1px solid #999999;
      }

      button.btn,
      button.btn-brand {
        @include primary-button;
      }

      button {
        &.btn-link {
          .action-label {
            padding: 3px 5px 0;
          }

          .action-icon {
            border: 0;
            background: none;

            .icon {
              top: 0;
            }

            &:before {
              font-size: 1.125rem;
              color: $mckinsey-gray-text;
              font-family: "Material Icons";
            }
          }

          &:hover {
            .action-icon {
              background: none;
              border: 0;
            }
          }

          .icon {
            color: $mckinsey-gray-text;
          }

          &.is-checked {
            .icon {
              color: $mckinsey-default-link;
            }
          }
        }
      }

      button.submit:hover,
      button.submit:focus {
        @include primary-button-hover;
      }

      button.cancel,
      button.post-cancel {
        @include secondary-button( !important);
      }

      button.post-cancel:hover,
      button.post-cancel:focus {
        @include secondary-button-hover;
      }


      .icon {
        font-family: "Material Icons";
        font-size: 1.125rem;
        color: $mckinsey-default-link;

        &.fa-plus {
          &:before {
            content: "\e8dc"
          }
        }

        &.fa-star {
          &:before {
            content: "\e838"
          }
        }

        &.fa-ellipsis-h {
          &:before {
            content: "\e5d3"
          }
        }

        &.fa-star {
          &:before {
            content: "\e838";
          }
        }

        &.fa-search,
        &.fa-filter {
          &:before {
            content: "\e8b6";
            color: $mckinsey-gray-text;
          }
        }

        &.fa-reorder {
          &:before {
            content: "\e8fe";
          }
        }

        &.fa-sort {
          &:before {
            content: "\e313";
          }
        }

        &.fa-flag {
          &:before {
            content: "\e160";
          }
        }

        &.fa-comments {
          &:before {
            content: "\e8af";
          }
        }

        &.fa-question {
          &:before {
            content: "\e887";
          }
        }

        &.fa-user {
          &:before {
            content: "\e7fd";
          }
        }

        &.fa-thumb-tack {
          &:before {
            content: "\e892";
          }
        }

        &.fa-pencil {
          &:before {
            content: "\e7fd";
          }
        }

        &.fa-remove {
          &:before {
            content: "\e14c";
          }
        }

        &.fa-lock {
          &:before {
            content: "\e897";
          }
        }

        &.fa-warning {
          &:before {
            content: "\e002";
          }
        }

        &.fa-check {
          &:before {
            content: "\e5ca";
          }
        }
      }

      .forum-nav-browse-menu,
      .discussion-column,
      .forum-nav-thread-list {
        .icon {
          position: relative;
          top: 4px;
        }
      }

      .discussion-column {
        margin: 0;
      }



      .breadcrumbs {
        .btn-link {
          background: none;
          font-size: 0.75rem;
          color: $mckinsey-gray-text;
          font-weight: normal;

          &:hover {
            color: $mckinsey-gray-text;
            text-decoration: none;
          }
        }

        .nav-item {
          font-size: 0.75rem;
          font-weight: normal;
          color: $mckinsey-gray-text;
        }

        .fa-bars {
          display: none;
        }

        .fa-angle-right {
          &:before {
            content: "/";
          }
        }
      }

      .page-header {
        .page-header-main {
          position: absolute;
          top: 70px;
          width: 100%;
        }

        .page-header-secondary {
          width: 76%;

          .new-post-btn {
            margin-top: 3px;
            @include primary-button-large;

            &:hover {
              @include primary-button-hover-large;
            }
          }
        }

        .forum-search {
          width: 60%;
          margin-left: 12px;

          .search-input {
            width: 96%;
            padding: 15px 5px 14px;
            position: relative;
          }

          .search-button {
            position: absolute;
            top: 2px;
            right: 14px;
            width: 40px;
            background-color: transparent !important;
            overflow: hidden;
            height: 50px !important;
            color: transparent !important;
            border: 0;

            &:after {
              font-family: "Material Icons";
              position: absolute;
              top: 27px;
              right: 20px;
              content: "\e8b6";
              color: $mckinsey-gray-text;
              font-size:1.25rem;
            }
          }
        }
      }

      .forum-nav {
        margin: 0;
        border: 0;
        background: #F7F7F7;
        padding: 0;

        .ask-ta {
          background: none !important;
          padding-top: 20px;

          .group-member {
            padding-bottom: 20px;
            border-bottom: 1px solid #ded6d6;

            .avatar {
              border-radius: 30px;
              width: 60px !important;
              height: 60px !important;
            }

            .person-info {
              padding-top: 8px;

              .email-member {
                color: $mckinsey-default-link;
                text-transform: lowercase;
                font-size: 0.75rem;
              }
            }
          }
        }

        .forum-nav-browse-menu-wrapper {
          padding: 15px 10px;
          background: none;

          .forum-nav-browse-filter {
            border-bottom: 0;

            .icon {
              margin-top: -9px;
            }

            #forum-nav-browse-filter-input {
              color: $mckinsey-gray-text;
              font-size: 1rem !important;
              padding: 10px 10px;
              text-transform: capitalize;
            }
          }

          .forum-nav-browse-menu {
            .icon {
              top: 13px !important;
            }

            .forum-nav-browse-menu-item {
              border: 1.21px solid #F1F3F6;

              .icon {
                top: 16px;
              }

              .forum-nav-browse-title {
                font-size: 1rem;
                color: $mckinsey-default-link;
              }

              .forum-nav-browse-submenu {
                .forum-nav-browse-title {
                  font-size: 0.75rem;
                  color: $mckinsey-gray-text;
                  padding: 10px;
                }
              }
            }
          }
        }
      }

      .forum-new-post-form,
      .edit-post-form {
        min-width: 425px;

        .thread-title {
          font-size: 1.5rem;
          font-weight: 400;
        }

        button.btn-brand {
          @include primary-button;

          &:hover,
          &:active {
            @include primary-button-hover;
          }
        }

        button.cancel {
          @include secondary-button;

          &:hover,
          &:active {
            @include secondary-button-hover;
          }
        }

        .field-label-text {
          font-size: 1rem;
          font-weight: normal !important;
          color: #000;
        }

        .forum-new-post-form-wrapper,
        .forum-edit-post-form-wrapper {
          .post-field {
            .post-type-label {
              margin-right: 10px;

              .field-input-label {
                background-color: #fff;
                border: solid 1px $mckinsey-default-link;
                color: $mckinsey-default-link !important;
                padding: 6px 20px 12px;

                &:hover {
                  border: solid 1px #0b0886;
                  color: #0b0886;
                  background-color: #fff;
                }
              }

              .input-radio:checked+.field-input-label {
                background-color: $mckinsey-default-link;
                color: #fff !important;

                .icon {
                  color: #FFF;
                }

                &:hover {
                  background-color: #0b0886;
                  color: #fff
                }
              }
            }

            .field-help {
              color: $mckinsey-gray-text;
              font-size: 0.75rem;
            }

            .field-input {
              width: 100%;

              .post-topic {
                width: 55% !important;
                background-image: url(../../images/expand-button.svg);
                -webkit-appearance: none !important;
                padding: 0 10px;
                border: 1px solid #999999 !important;
                background-repeat: no-repeat;
                background-position: 95%;
                background-size: 12px;
              }
            }

          }

        }

        .js-post-title,
        .edit-post-title {
          width: 55% !important;
        }

        .wmd-preview-container {
          .wmd-preview-label {
            font-size: 1rem;
            padding: 10px 3px 0 8px;
          }

          .wmd-preview {
            padding: 0px 20px;
          }
        }

        button {
          &.submit {
            float: left;
            margin: 0 10px 0 0;

            &:hover {
              float: left;
              margin: 0 10px 0 0;
            }
          }

          &.cancel {
            @include secondary-button;

            &:hover {
              @include secondary-button-hover;
            }
          }
        }


      }

      .discussion-thread-list-container {
        .forum-nav-refine-bar {
          background: none;
          margin: 0 0 15px;
          border: 0;

          select {
            color: $mckinsey-gray-text;
            border: 0;
            width: 100%;
            background-image: url(../../images/expand-button.svg);
            padding: 0 10px;
            background-repeat: no-repeat;
            background-position: 90%;
            background-size: 8px;
            width: 100%;
            padding: 7px 0 7px 10px;

            &.forum-nav-sort-control {
              &:after {
                width: 0;
                height: 0;
                border-left: 20px solid transparent;
                border-right: 20px solid transparent;
                border-top: 20px solid #f00;
                padding: 0 10px;
              }
            }
          }

          label {
            background: #FFF;
            border: 1px solid #999999;
            padding: 0;

            &.forum-nav-filter-main {
              border: 1px solid #999999;
              width: 49%;
              margin-left: 1%;
            }
          }
        }

        .forum-nav-thread-list {
          background: #FFF;
          border: 1px solid #D8D8D8;

          .forum-nav-thread {
            border: 0;
            background: none;
            padding: 0;



            .forum-nav-thread-link {
              border-left: 0;
              background-color: #F3F4F6;
              border-bottom: 1.21px solid #F1F3F6;
              padding: 14px 10px !important;

              .icon {
                color: #000000;
              }

              &.is-active {
                background-color: #E2EFF7 !important;

                .forum-nav-thread-title,
                .icon {
                  color: #0B0886;
                }
              }

              .forum-nav-thread-title {
                font-size: 1rem;
                color: #000;
                line-height: 22px;
                font-weight: 400;
              }

              .forum-nav-thread-comments-count {
                background-color: $mckinsey-gray-text;
                color: #FFFFFF;
                font-size: 0.625rem;
                padding: 0px 0px;

                &:after {
                  border-width: 0;
                  bottom: -3px;
                  left: 0px;
                  border-top: 0px solid transparent;
                  border-bottom: 5px solid transparent;
                  border-left: 5px solid $mckinsey-gray-text;
                }
              }
            }

            &.never-read {
              .forum-nav-thread-link {
                border-left: 0;
                color: $mckinsey-default-link;
                background-color: transparent;

                .icon {
                  color: $mckinsey-default-link;
                }
              }
            }
          }
        }
      }

      .forum-content {
        .home-header {
          .label {
            &:before {
              color: #000;
              font-weight: normal;
              font-size: 1.5rem;
            }
          }
        }

        .thread-wrapper {
          .thread-main-wrapper {
            box-shadow: none !important;
            padding-bottom: 15px;

            .discussion-post {
              padding: 0;

              .post-header {

                .post-title {
                  color: #000000;
                  font-size: 1.5rem;
                  font-weight: normal;
                }

                .posted-details {
                  font-size: 0.75rem;
                  color: $mckinsey-gray-text;
                  margin: 0;

                  .username {
                    color: #000;
                    font-weight: 600;
                    font-size: 0.75rem;
                  }

                  .user-label-staff {
                    width: auto;
                    font-weight: normal;
                    line-height: normal;

                    &:before {
                      color: #FFFFFF;
                      background: $mckinsey-gray-text;
                      font-size: 0.5625rem;
                      padding: 0px 2px;
                      width: auto;
                    }
                  }
                }

                .post-actions-list {
                  .actions-item {
                    margin: 0 5px 0;
                    float: left;
                  }

                  .actions-dropdown-list {
                    display: grid;

                    .btn-link {
                      .icon {
                        color: $mckinsey-gray-text;
                      }

                      &.is-checked {
                        &.action-pin {
                          color: $mckinsey-default-link;
                        }
                      }

                      &:hover {
                        .icon {
                          color: $mckinsey-default-link;
                        }
                      }
                    }

                  }
                }
              }

              .post-body {
                p {
                  font-size: 1rem;
                  color: #000000;
                }
              }

              .post-context {
                .group-visibility-label {
                  color: $mckinsey-gray-text;
                  font-size: 0.75rem;
                }
              }
            }
          }

          .post-extended-content {
            .response-btn-count-wrapper {
              display: none;
            }

            .js-response-list {
              padding: 0;

              .forum-response {
                border: 0;
                margin-top: 20px;

                .discussion-response {

                  .response-header-content {
                    .username {
                      color: $mckinsey-default-link;
                    }

                    .user-label-staff {
                      width: auto;
                      font-weight: normal;

                      &:before {
                        color: #FFFFFF;
                        background: $mckinsey-gray-text;
                        font-size: 0.625rem;
                        padding: 1px 2px;
                        width: auto;
                      }
                    }
                  }

                  .response-actions-list {
                    .actions-dropdown-list {
                      display: grid;
                    }

                    .actions-item {
                      margin: 0 5px 0;
                      float: left;
                    }
                  }

                  .btn-brand {
                    @include primary-button;

                    &:hover,
                    &:active {
                      @include primary-button-hover;
                    }
                  }

                  .post-cancel {
                    @include secondary-button;

                    &:hover,
                    &:active {
                      @include secondary-button-hover;
                    }
                  }
                }

                .comments {
                  box-shadow: none;

                  forum-new-post-form .edit-post-form,
                  .new-comment {
                    .wmd-preview-label {
                      font-size: 1rem;
                      padding: 10px 3px 0 8px;
                    }

                    .btn-brand {
                      @include primary-button;

                      &:hover,
                      &:active {
                        @include primary-button-hover;
                      }
                    }

                    .post-cancel {
                      @include secondary-button;

                      &:hover,
                      &:active {
                        @include secondary-button-hover;
                      }
                    }
                  }

                  .posted-details {
                    font-size: 0.75rem;
                    color: $mckinsey-gray-text;
                    margin: 0;

                    .username {
                      color: #000;
                      font-weight: 600;
                      font-size: 0.75rem;
                    }

                    .user-label-staff {
                      width: auto;
                      font-weight: normal;

                      &:before {
                        color: #FFFFFF;
                        background: $mckinsey-gray-text;
                        font-size: 0.625rem;
                        padding: 0px 2px;
                        line-height: normal;
                        width: auto;
                      }
                    }
                  }
                }
              }
            }

            .discussion-reply-new {
              .add-response {
                padding: 0 0px;
                margin-top: 0px;
              }

              .reply-body {
                .wmd-preview-container {
                  .wmd-preview-label {
                    font-size: 1rem;
                    padding: 10px 3px 0 8px;
                  }
                }
              }

              .reply-post-control {
                button {
                  &.btn {
                    float: left;
                    margin: 0 10px 20px 0;

                    &:hover {
                      float: left;
                      margin: 0 10px 20px 0;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}